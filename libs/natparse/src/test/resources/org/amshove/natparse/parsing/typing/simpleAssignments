DEFINE DATA LOCAL
1 #CONST-N1-I4 (I4) CONST<1>
1 #N1 (N1)
1 #I1 (I1)
1 #A1 (A1)
1 #P1 (P1)
1 #B4 (B4)
1 #B5 (B5)
1 #T (T)
1 #D (D)
1 #A10 (A10)
1 #ARR (N10/*)
1 #N12 (N12)
1 #P12 (P12)
1 #I4 (I4)
1 #A20 (A20)
1 #U20 (U20)
1 THEVIEW VIEW OF THE-DDM
2 #TYPED-IN-VIEW
END-DEFINE

/* NPP037: Type mismatch
/* NPP045: Literal value truncation

#N1 := 23 /* !{D:WARNING:NPP045}
#N1 := 2
#I1 := 128 /* !{D:WARNING:NPP045}
#I1 := 127
#N1 := 'Hi' /* !{D:ERROR:NPP037}
#N12 := #N1;
/*#N12 := #U20;
#N12 := #N1;
#P12 := #P1;
/* #P12 := #U20;
#P12 := #T;
#P12 := #D

#N1 := #CONST-N1-I4 /* Should work, the constant *value* is N1

#TYPED-IN-VIEW := 'Hi' /* DDM stuff not yet inferred, don't add a diagnostic
#N1 := #TYPED-IN-VIEW /* DDM stuff not yet inferred, don't add a diagnostic

#A1 := *OCC(#ARR) /* I4 has implicit conversion to A1
#A1 := #N1 /* N1 has implicit conversion to A1
#A1 := 1 /* I1 has implicit conversion to A1
#A1 := 10 /* !{D:WARNING:NPP045} value is truncated

#A10 := #T /* Implicit conversion
#A10 := #D /* Implicit conversion
#T := 10 /* Implicit conversion
#T := #N1 /* Implicit conversion
#D := 10 /* !{D:ERROR:NPP037}
#D := #N1 /* !{D:ERROR:NPP037}

#I1 := #B4
#P1 := #B4
#T := #B4
#A20 := #B5
#U20 := #B5
#I1 := #B5 /* !{D:ERROR:NPP037}
#P1 := #B5 /* !{D:ERROR:NPP037}
#D := #B4 /* !{D:ERROR:NPP037}

#A1 := TRUE /* Converted to single character
#A1 := FALSE /* Converted to single character

#N12 := *TIMX /* fine
#P12 := *TIMX /* fine

#D := #T
#T := #D

#A20 := 99999999999999999999 /* Results in a P11, not truncation needed to to A20

END
